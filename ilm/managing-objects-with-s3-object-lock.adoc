---
permalink: ilm/managing-objects-with-s3-object-lock.html 
sidebar: sidebar 
keywords: s3 object lock, manage objects with object lock 
summary: 身為網格管理員、您可以為StorageGRID 您的系統啟用S3物件鎖定、並實作符合法規的ILM原則、以確保特定S3儲存區中的物件在指定時間內不會被刪除或覆寫。 
---
= 使用S3物件鎖定來管理物件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
身為網格管理員、您可以為StorageGRID 您的系統啟用S3物件鎖定、並實作符合法規的ILM原則、以確保特定S3儲存區中的物件在指定時間內不會被刪除或覆寫。



== 什麼是S3物件鎖定？

「物件鎖定」功能是物件保護解決方案、StorageGRID 相當於Amazon Simple Storage Service（Amazon S3）中的S3物件鎖定。

如圖所示、當啟用StorageGRID 全域S3物件鎖定設定以供支援某個功能時、S3租戶帳戶可以建立啟用或不啟用S3物件鎖定的儲存區。如果某個儲存區已啟用S3物件鎖定、則S3用戶端應用程式可選擇性地指定該儲存區中任何物件版本的保留設定。物件版本必須具有指定的保留設定、才能受到S3物件鎖定的保護。此外、啟用S3物件鎖定的每個儲存區都可以選擇預設保留模式和保留期間、如果在儲存區中新增物件而不使用其本身的保留設定、則會套用此保留期間。

image::../media/s3_object_lock_architecture.png[S3物件鎖定架構]

「S3物件鎖定」StorageGRID 功能提供單一保留模式、相當於Amazon S3法規遵循模式。依預設、受保護的物件版本無法由任何使用者覆寫或刪除。「S3物件鎖定」StorageGRID 功能不支援管理模式、也不允許具有特殊權限的使用者略過保留設定或刪除受保護的物件。

如果某個儲存區已啟用S3物件鎖定、則S3用戶端應用程式可在建立或更新物件時、選擇性地指定下列任一或兩個物件層級保留設定：

* *保留截止日期*：如果物件版本的保留截止日期在未來、則可擷取物件、但無法修改或刪除。視需要可增加物件的保留截止日期、但此日期不可減少。
* *合法持有*：將合法持有套用至物件版本、會立即鎖定該物件。例如、您可能需要對與調查或法律爭議相關的物件保留法律。合法持有沒有到期日、但在明確移除之前、仍會保留到位。合法持有不受保留至日期的限制。


如需物件保留設定的詳細資訊、請前往 xref:../s3/using-s3-object-lock.adoc[使用S3物件鎖定]。

如需預設庫位保留設定的詳細資訊、請前往 xref:../s3/use-s3-object-lock-default-bucket-retention.adoc[使用S3物件鎖定預設儲存區保留]。



== 比較S3物件鎖定與舊版法規遵循

S3物件鎖定取代舊StorageGRID 版的Compliance功能。由於S3物件鎖定功能符合Amazon S3的要求、因此它取代了專屬StorageGRID 的「不符合要求」功能、這項功能現在稱為「舊有法規遵循」。

如果您先前已啟用「全域符合性」設定、則會自動啟用「全域S3物件鎖定」設定。租戶使用者不再能夠在啟用「法規遵循」的情況下建立新的儲存庫、不過、根據需求、租戶使用者可以繼續使用及管理任何現有的符合舊規範的儲存庫、包括執行下列工作：

* 將新物件加入已啟用舊版法規遵循的現有儲存區。
* 延長已啟用舊版法規遵循的現有儲存庫的保留期間。
* 變更已啟用舊版法規遵循的現有儲存區的自動刪除設定。
* 合法持有已啟用舊版法規遵循的現有儲存庫。
* 解除合法持有。


請參閱 https://["NetApp知識庫：如何管理StorageGRID 支援老舊的知識庫、請參閱《知識庫文章"^] 以取得相關指示。

如果您使用StorageGRID 舊版的更新版本的支援功能、請參閱下表、瞭解其與StorageGRID 更新版本中S3物件鎖定功能的比較。

[cols="1a,1a,1a"]
|===
|  | S3物件鎖定（新增） | 法規遵循（舊版） 


 a| 
如何在全域啟用此功能？
 a| 
從Grid Manager中選擇*組態*>*系統*>* S3物件鎖定*。
 a| 
不再支援。

*注意：*如果您使用舊版StorageGRID 的支援功能來啟用「全域法規遵循」設定、StorageGRID 則「S3物件鎖定」設定會在「支援支援功能」中啟用。您可以繼續使用StorageGRID 效益管理功能來管理現有的相容庫位設定、但您無法建立新的相容庫位。



 a| 
此功能如何啟用儲存庫？
 a| 
使用者必須啟用S3物件鎖定、才能使用租戶管理程式、租戶管理API或S3 REST API建立新的儲存區。
 a| 
使用者無法再建立已啟用「符合性」的新儲存區、但仍可繼續將新物件新增至現有的「符合性」儲存區。



 a| 
是否支援儲存區版本管理？
 a| 
是的。儲存區版本設定是必要的、且會在啟用儲存區的S3物件鎖定時自動啟用。
 a| 
不可以舊版法規遵循功能不允許庫位版本管理。



 a| 
如何設定物件保留？
 a| 
使用者可以為每個物件版本設定保留截止日期。
 a| 
使用者必須為整個儲存庫設定保留期間。保留期間適用於貯體中的所有物件。



 a| 
桶是否有保留和合法持有的預設設定？
 a| 
是的。啟用S3物件鎖定的各個區段可以有預設保留期間、套用至物件版本、而物件版本在擷取期間並未指定其保留設定。StorageGRID
 a| 
是的



 a| 
保留期間可以變更嗎？
 a| 
物件版本的保留截止日期可以增加、但不會減少。
 a| 
可延長庫位的保留期間、但不會縮短。



 a| 
合法持有控制在哪裡？
 a| 
使用者可以合法持有或撤銷貯體中任何物件版本的合法持有。
 a| 
合法持有會置於貯體上、並影響貯體中的所有物件。



 a| 
何時可以刪除物件？
 a| 
物件版本可在達到保留截止日期後刪除、前提是物件未處於合法持有狀態。
 a| 
保留期間到期後、如果儲存區未處於合法保留狀態、則可刪除物件。物件可以自動或手動刪除。



 a| 
是否支援庫位生命週期組態？
 a| 
是的
 a| 
否

|===