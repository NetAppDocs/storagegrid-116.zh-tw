---
permalink: ilm/data-protection-options-for-ingest.html 
sidebar: sidebar 
keywords: ingest options, balanced ingest, strict ingest, dual-commit ingest 
summary: 建立ILM規則時、您可以指定三個選項之一來保護擷取時的物件：雙重提交、平衡或嚴格。根據您的選擇、StorageGRID 將會製作過渡複本、並將物件排入佇列、以便稍後進行ILM評估、或是使用同步放置、並立即製作複本以符合ILM需求。 
---
= 用於擷取的資料保護選項
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
建立ILM規則時、您可以指定三個選項之一來保護擷取時的物件：雙重提交、平衡或嚴格。根據您的選擇、StorageGRID 將會製作過渡複本、並將物件排入佇列、以便稍後進行ILM評估、或是使用同步放置、並立即製作複本以符合ILM需求。



== 三個擷取選項的流程圖

流程圖會顯示當物件與使用三個擷取選項中每個選項的ILM規則相符時、會發生什麼情況。

image::../media/ingest_object_lifecycle.png[顯示每個資料保護選項的物件擷取方式圖表]



== 雙重承諾

當您選取「雙重提交」選項時StorageGRID 、會立即在兩個不同的儲存節點上製作過渡物件複本、並將「擷取最成功」訊息傳回給用戶端。物件會排入ILM評估佇列、之後會製作符合規則放置指示的複本。



=== 何時使用雙重提交選項

在下列任一情況下、請使用「雙重提交」選項：

* 您使用的是多站台ILM規則、而用戶端擷取延遲是您的首要考量。使用「雙重提交」時、您必須確保網格能夠在無法滿足ILM的情況下、執行建立和移除雙重提交複本的額外工作。具體而言：
+
** 網格上的負載必須足夠低、以避免ILM待處理項目。
** 網格必須有過多的硬體資源（IOPS、CPU、記憶體、網路頻寬等）。


* 您使用的是多站台ILM規則、而站台之間的WAN連線通常具有高延遲或有限頻寬。在此案例中、使用「雙重提交」選項有助於防止用戶端逾時。在選擇「雙重提交」選項之前、您應該使用實際的工作負載來測試用戶端應用程式。




== 嚴格

當您選取「嚴格」選項時StorageGRID 、會在擷取中使用同步放置、並立即製作規則放置說明中指定的所有物件複本。例如StorageGRID 、由於所需的儲存位置暫時無法使用、所以如果無法建立所有複本、則擷取作業就會失敗。用戶端必須重試此作業。



=== 何時使用嚴格選項

如果您有作業或法規要求、只要將物件立即儲存在ILM規則中所述的位置、請使用嚴格選項。例如、為了滿足法規要求、您可能需要使用嚴格選項和位置限制進階篩選器、以確保物件永遠不會儲存在特定資料中心。

xref:example-5-ilm-rules-and-policy-for-strict-ingest-behavior.adoc[範例5：嚴格擷取行為的ILM規則與原則]



== 平衡

當您選取平衡選項時StorageGRID 、也會在擷取時使用同步放置、並立即製作規則放置說明中指定的所有複本。與嚴格選項不同的是StorageGRID 、如果無法立即製作所有複本、它會改用雙重認可。



=== 使用平衡選項的時機

使用「平衡」選項、將資料保護、網格效能和擷取成功完美結合。「平衡」是ILM規則精靈中的預設選項。
