---
permalink: ilm/using-advanced-filters-in-ilm-rules.html 
sidebar: sidebar 
keywords: ilm rule advanced filtering 
summary: 進階篩選功能可讓您建立僅套用至特定物件的ILM規則、以其中繼資料為基礎。為規則設定進階篩選時、您可以選取要比對的中繼資料類型、選取運算子、然後指定中繼資料值。評估物件時、ILM規則僅會套用至具有符合進階篩選之中繼資料的物件。 
---
= 在ILM規則中使用進階篩選器
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
進階篩選功能可讓您建立僅套用至特定物件的ILM規則、以其中繼資料為基礎。為規則設定進階篩選時、您可以選取要比對的中繼資料類型、選取運算子、然後指定中繼資料值。評估物件時、ILM規則僅會套用至具有符合進階篩選之中繼資料的物件。

下表顯示可在進階篩選器中指定的中繼資料類型、可用於每種中繼資料類型的運算子、以及預期的中繼資料值。

[cols="1a,1a,2a"]
|===
| 中繼資料類型 | 支援的運算子 | 中繼資料值 


 a| 
擷取時間（微秒）
 a| 
* 等於
* 不等於
* 小於
* 小於或等於
* 大於
* 大於或等於

 a| 
擷取物件的時間和日期。

*附註：*若要在啟動新的ILM原則時避免資源問題、您可以在任何可能變更大量現有物件位置的規則中使用「內嵌時間」進階篩選器。將「內嵌時間」設為大於或等於新原則生效的大約時間、以確保現有物件不會不必要地移動。



 a| 
金鑰
 a| 
* 等於
* 不等於
* 包含
* 不包含
* 從開始
* 不從開始
* 結尾為
* 不以結束

 a| 
唯一S3或Swift物件金鑰的全部或部分。

例如、您可能想要比對以".txt"結尾或以"test-object/"開頭的物件。



 a| 
上次存取時間（微秒）
 a| 
* 等於
* 不等於
* 小於
* 小於或等於
* 大於
* 大於或等於
* 存在
* 不存在

 a| 
上次擷取物件的時間和日期（讀取或檢視）。

*附註：*如果您打算使用上次存取時間做為進階篩選器、則必須針對S3儲存區或Swift容器啟用上次存取時間更新。

xref:using-last-access-time-in-ilm-rules.adoc[在ILM規則中使用上次存取時間]



 a| 
位置限制（僅限S3）
 a| 
* 等於
* 不等於

 a| 
建立S3儲存區的區域。使用* ILM *>* regions *來定義顯示的區域。

*附註：* us-east-1的值會比對在us-east-1區域中建立的儲存格中的物件、以及未指定區域的儲存格中的物件。

xref:configuring-regions-optional-and-s3-only.adoc[設定地區（選用和僅S3）]



 a| 
物件大小（MB）
 a| 
* 等於
* 不等於
* 小於
* 小於或等於
* 大於
* 大於或等於

 a| 
物件大小（以MB為單位）。

銷毀編碼最適合大於1 MB的物件。請勿針對小於200 KB的物件使用銷毀編碼、以避免管理非常小的銷毀編碼片段。

*附註：*若要篩選小於1 MB的物件大小、請輸入十進位值。您的瀏覽器類型和地區設定可控制您是否需要使用句點或逗號做為小數位分隔符號。



 a| 
使用者中繼資料
 a| 
* 包含
* 結尾為
* 等於
* 存在
* 不包含
* 不以結束
* 不等於
* 不存在
* 不從開始
* 從開始

 a| 
金鑰值配對、其中*使用者中繼資料名稱*為金鑰、*使用者中繼資料值*為值。

例如、若要篩選使用者中繼資料為「COL色彩=藍色」的物件、請指定「色彩」為*使用者中繼資料名稱*、「等於」為運算子、「藍色」為*使用者中繼資料值*。

*附註：*使用者中繼資料名稱不區分大小寫；使用者中繼資料值區分大小寫。



 a| 
物件標籤（僅S3）
 a| 
* 包含
* 結尾為
* 等於
* 存在
* 不包含
* 不以結束
* 不等於
* 不存在
* 不從開始
* 從開始

 a| 
金鑰值配對、其中*物件標籤名稱*為金鑰、*物件標籤值*為值。

例如、若要篩選物件標籤為「Image=True」的物件、請為*物件標籤名稱*指定「Image」、為運算子指定「等號」、為*物件標籤值*指定「True」。

*附註：*物件標籤名稱和物件標籤值區分大小寫。您必須輸入與為物件定義的項目完全相同的項目。

|===


== 指定多種中繼資料類型和值

定義進階篩選時、您可以指定多種中繼資料類型和多個中繼資料值。例如、如果您想要規則比對大小介於10 MB和100 MB之間的物件、請選取*物件大小*中繼資料類型、然後指定兩個中繼資料值。

* 第一個中繼資料值會指定大於或等於10 MB的物件。
* 第二個中繼資料值會指定小於或等於100 MB的物件。


image::../media/advanced_filtering_size_between.gif[物件大小的進階篩選範例]

使用多個項目可讓您精確控制要比對的物件。在下列範例中、規則適用於將Brand A或Brand B做為攝影機類型使用者中繼資料值的物件。不過、此規則僅適用於小於10 MB的Brand B物件。

image::../media/advanced_filtering_multiple_rows.gif[使用者中繼資料的進階篩選範例]
